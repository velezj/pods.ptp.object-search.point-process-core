
#include "context.hpp"
#include <sstream>

namespace probability_core {



  //==========================================================================

  // Description:
  // The current global context
  static boost::optional<context_t> g_global_context;

  //==========================================================================

  boost::optional<context_t> set_context( const boost::optional<context_t>& c )
  {
    boost::optional<context_t> original = g_global_context;
    g_global_context = c;
    return original;
  }

  //==========================================================================

  boost::optional<context_t> get_current_context()
  {
    return g_global_context;
  }

  //==========================================================================

  std::string context_filename( const std::string& name )
  {
    boost::optional<context_t> context = get_current_context();
    std::ostringstream oss;
    if( context ) {
      oss << context->id << "_";
    }
    oss << name;
    return oss.str();
  }

  //==========================================================================
  //==========================================================================
  //==========================================================================
  //==========================================================================
  //==========================================================================
  //==========================================================================
  //==========================================================================
  //==========================================================================
  //==========================================================================
  //==========================================================================
  //==========================================================================
  //==========================================================================
  //==========================================================================
  //==========================================================================
  //==========================================================================
  //==========================================================================
  //==========================================================================
  //==========================================================================
  //==========================================================================
  //==========================================================================
  //==========================================================================
  //==========================================================================
  //==========================================================================
  //==========================================================================
  //==========================================================================
  //==========================================================================
  //==========================================================================
  //==========================================================================
  //==========================================================================
  //==========================================================================
  //==========================================================================
  //==========================================================================
  //==========================================================================
  //==========================================================================
  //==========================================================================
  //==========================================================================



}
